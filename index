<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clicker App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            /* –ë–µ—Ä–µ–º —Ü–≤–µ—Ç–∞ –ø—Ä—è–º–æ –∏–∑ —Ç–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram */
            background-color: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden; /* –£–±–∏—Ä–∞–µ–º —Å–∫—Ä–æ–ª–ª */
        }

        /* –°—Ç–∏–ª—å –¥–ª—è —Ü–∏—Ñ—Ä—ã */
        #score {
            font-size: 80px;
            font-weight: bold;
            margin: 20px 0;
        }

        /* –ù–∞—à–∞ –∫–Ω–æ–ø–∫–∞ –∫–ª–∏–∫–µ—Ä–∞ */
        .btn {
            background-color: var(--tg-theme-button-color, #3390ec);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            padding: 15px 30px;
            font-size: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.1s;
        }

        .btn:active {
            transform: scale(0.95); /* –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞–∂–∞—Ç–∏—è */
        }
    </style>
</head>
<body>
    <h3>–ù–∞–∫–ª–∏–∫–∞–π 5 –æ—á–∫–æ–≤! üëá</h3>
    
    <div id="score">0</div>
    
    <button class="btn" onclick="addScore()">CLICK!</button>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞—Å–∫—Ä—ã—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        // –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ (—Ç–∞, —á—Ç–æ —Å–Ω–∏–∑—É)
        const mainBtn = tg.MainButton;
        mainBtn.setText("–û–¢–ü–†–ê–í–ò–¢–¨ –†–ï–ó–£–õ–¨–¢–ê–¢");
        mainBtn.textColor = "#FFFFFF";
        mainBtn.color = "#2cab37"; // –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç

        let score = 0;

        function addScore() {
            score++;
            document.getElementById('score').innerText = score;

            // –õ–æ–≥–∏–∫–∞: –µ—Å–ª–∏ –Ω–∞–∫–ª–∏–∫–∞–ª–∏ 5 —Ä–∞–∑, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            if (score === 5) {
                mainBtn.show();
            }
        }

        // –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –Ω–∞–∂–∞—Ç—å –Ω–∞ –ì–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
        Telegram.WebApp.onEvent('mainButtonClicked', function(){
            // sendData –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É –±–æ—Ç—É –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            tg.sendData("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–±—Ä–∞–ª –æ—á–∫–æ–≤: " + score); 
        });
    </script>
</body>
</html>
